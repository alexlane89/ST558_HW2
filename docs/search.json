[
  {
    "objectID": "ST558_HW2_Programming_BaseR.html",
    "href": "ST558_HW2_Programming_BaseR.html",
    "title": "Programming in BaseR",
    "section": "",
    "text": "Let’s begin our practice by comparing blood pressure results of 20 patients before and after a treatment.\n\npreblood &lt;- c(130, 128, 116, 124, 133, 134, 118, 126, 114, 127, 141, 138, 128, 140, 137, 131, 120, 128, 139, 135)\n\npostblood &lt;- c(114, 98, 113, 99, 107, 116, 113, 111, 119, 117, 101, 119, 130, 122, 106, 106, 124, 102, 117, 113)\n\nblood_diff &lt;- postblood - preblood\n\nCalculate average difference in blood pressure after treatment.\n\navg_tot_diff &lt;- mean(blood_diff)\n\nnames(blood_diff) &lt;- paste(\"Subject\", 1:20, sep = \"_\")\n\navg_tot_diff\n\n[1] -17\n\n\nAfter establishing some attributes of the dataset, let’s further refine our analysis, by determining which subset of subjects experienced a “positive” blood pressure gain. In this case, meaning their blood pressure decreased in the post vs pre blood pressure measurement.\n\nwhich(blood_diff &lt; 0,useNames = T)\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n         1          2          3          4          5          6          7 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n         8         10         11         12         14         15         16 \nSubject_18 Subject_19 Subject_20 \n        18         19         20 \n\n\nCreate a subset of subjects with positive gain after treatment:\n\nblood_diff[blood_diff &lt; 0]\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n       -16        -30         -3        -25        -26        -18         -5 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n       -15        -10        -40        -19        -18        -31        -25 \nSubject_18 Subject_19 Subject_20 \n       -26        -22        -22 \n\n\nCalculate average decrease in blood pressure for those whose blood pressure decreased after treatment:\n\nmean(blood_diff[blood_diff &lt; 0])\n\n[1] -20.64706"
  },
  {
    "objectID": "ST558_HW2_Programming_BaseR.html#task-1---basic-vector-practice",
    "href": "ST558_HW2_Programming_BaseR.html#task-1---basic-vector-practice",
    "title": "Programming in BaseR",
    "section": "",
    "text": "Let’s begin our practice by comparing blood pressure results of 20 patients before and after a treatment.\n\npreblood &lt;- c(130, 128, 116, 124, 133, 134, 118, 126, 114, 127, 141, 138, 128, 140, 137, 131, 120, 128, 139, 135)\n\npostblood &lt;- c(114, 98, 113, 99, 107, 116, 113, 111, 119, 117, 101, 119, 130, 122, 106, 106, 124, 102, 117, 113)\n\nblood_diff &lt;- postblood - preblood\n\nCalculate average difference in blood pressure after treatment.\n\navg_tot_diff &lt;- mean(blood_diff)\n\nnames(blood_diff) &lt;- paste(\"Subject\", 1:20, sep = \"_\")\n\navg_tot_diff\n\n[1] -17\n\n\nAfter establishing some attributes of the dataset, let’s further refine our analysis, by determining which subset of subjects experienced a “positive” blood pressure gain. In this case, meaning their blood pressure decreased in the post vs pre blood pressure measurement.\n\nwhich(blood_diff &lt; 0,useNames = T)\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n         1          2          3          4          5          6          7 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n         8         10         11         12         14         15         16 \nSubject_18 Subject_19 Subject_20 \n        18         19         20 \n\n\nCreate a subset of subjects with positive gain after treatment:\n\nblood_diff[blood_diff &lt; 0]\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n       -16        -30         -3        -25        -26        -18         -5 \n Subject_8 Subject_10 Subject_11 Subject_12 Subject_14 Subject_15 Subject_16 \n       -15        -10        -40        -19        -18        -31        -25 \nSubject_18 Subject_19 Subject_20 \n       -26        -22        -22 \n\n\nCalculate average decrease in blood pressure for those whose blood pressure decreased after treatment:\n\nmean(blood_diff[blood_diff &lt; 0])\n\n[1] -20.64706"
  },
  {
    "objectID": "ST558_HW2_Programming_BaseR.html#task-2---basic-dataframe-practice-create-a-dataframe",
    "href": "ST558_HW2_Programming_BaseR.html#task-2---basic-dataframe-practice-create-a-dataframe",
    "title": "Programming in BaseR",
    "section": "Task 2 - Basic Dataframe Practice Create a dataframe",
    "text": "Task 2 - Basic Dataframe Practice Create a dataframe\nFirst, create a dataframe from the preceding data.\n\npatient &lt;- c(1:20)\nb_df &lt;- data.frame(patient = patient,pre_bp = preblood, post_bp = postblood, diff_bp = blood_diff)\n\nReturn only rows where there was a positive gain:\n\nb_df[b_df$diff_bp &lt; 0, ]\n\n           patient pre_bp post_bp diff_bp\nSubject_1        1    130     114     -16\nSubject_2        2    128      98     -30\nSubject_3        3    116     113      -3\nSubject_4        4    124      99     -25\nSubject_5        5    133     107     -26\nSubject_6        6    134     116     -18\nSubject_7        7    118     113      -5\nSubject_8        8    126     111     -15\nSubject_10      10    127     117     -10\nSubject_11      11    141     101     -40\nSubject_12      12    138     119     -19\nSubject_14      14    140     122     -18\nSubject_15      15    137     106     -31\nSubject_16      16    131     106     -25\nSubject_18      18    128     102     -26\nSubject_19      19    139     117     -22\nSubject_20      20    135     113     -22\n\n\nAdd a ‘greater than 120 post_bp’ column\n\nb_df$hi_post &lt;- b_df$post_bp &gt; 120\nb_df\n\n           patient pre_bp post_bp diff_bp hi_post\nSubject_1        1    130     114     -16   FALSE\nSubject_2        2    128      98     -30   FALSE\nSubject_3        3    116     113      -3   FALSE\nSubject_4        4    124      99     -25   FALSE\nSubject_5        5    133     107     -26   FALSE\nSubject_6        6    134     116     -18   FALSE\nSubject_7        7    118     113      -5   FALSE\nSubject_8        8    126     111     -15   FALSE\nSubject_9        9    114     119       5   FALSE\nSubject_10      10    127     117     -10   FALSE\nSubject_11      11    141     101     -40   FALSE\nSubject_12      12    138     119     -19   FALSE\nSubject_13      13    128     130       2    TRUE\nSubject_14      14    140     122     -18    TRUE\nSubject_15      15    137     106     -31   FALSE\nSubject_16      16    131     106     -25   FALSE\nSubject_17      17    120     124       4    TRUE\nSubject_18      18    128     102     -26   FALSE\nSubject_19      19    139     117     -22   FALSE\nSubject_20      20    135     113     -22   FALSE\n\n\nprint the dataframe\n\nknitr::kable(b_df)\n\n\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\nhi_post\n\n\n\n\nSubject_1\n1\n130\n114\n-16\nFALSE\n\n\nSubject_2\n2\n128\n98\n-30\nFALSE\n\n\nSubject_3\n3\n116\n113\n-3\nFALSE\n\n\nSubject_4\n4\n124\n99\n-25\nFALSE\n\n\nSubject_5\n5\n133\n107\n-26\nFALSE\n\n\nSubject_6\n6\n134\n116\n-18\nFALSE\n\n\nSubject_7\n7\n118\n113\n-5\nFALSE\n\n\nSubject_8\n8\n126\n111\n-15\nFALSE\n\n\nSubject_9\n9\n114\n119\n5\nFALSE\n\n\nSubject_10\n10\n127\n117\n-10\nFALSE\n\n\nSubject_11\n11\n141\n101\n-40\nFALSE\n\n\nSubject_12\n12\n138\n119\n-19\nFALSE\n\n\nSubject_13\n13\n128\n130\n2\nTRUE\n\n\nSubject_14\n14\n140\n122\n-18\nTRUE\n\n\nSubject_15\n15\n137\n106\n-31\nFALSE\n\n\nSubject_16\n16\n131\n106\n-25\nFALSE\n\n\nSubject_17\n17\n120\n124\n4\nTRUE\n\n\nSubject_18\n18\n128\n102\n-26\nFALSE\n\n\nSubject_19\n19\n139\n117\n-22\nFALSE\n\n\nSubject_20\n20\n135\n113\n-22\nFALSE"
  },
  {
    "objectID": "ST558_HW2_Programming_BaseR.html#task-3---list-practice",
    "href": "ST558_HW2_Programming_BaseR.html#task-3---list-practice",
    "title": "Programming in BaseR",
    "section": "Task 3 - List Practice",
    "text": "Task 3 - List Practice\nCreate a new dataframe from data associated with a placebo group.\n\npre_pl &lt;- c(138, 135, 147, 117, 152, 134, 114, 121, 131, 130)\npost_pl &lt;- c(105, 136, 123, 130, 134, 143, 135, 139, 120, 124)\npatient_p &lt;- c(1:10)\ndiff_p &lt;- post_pl - pre_pl\nnames(diff_p) &lt;- paste(\"Subject\", 1:10, sep = \"_\")\nb_p_df &lt;- data.frame(patient = patient_p,pre_bp = pre_pl,post_bp = post_pl, diff_bp = diff_p)\nb_p_df$hi_post &lt;- b_p_df$post_bp &gt; 120\nb_p_df\n\n           patient pre_bp post_bp diff_bp hi_post\nSubject_1        1    138     105     -33   FALSE\nSubject_2        2    135     136       1    TRUE\nSubject_3        3    147     123     -24    TRUE\nSubject_4        4    117     130      13    TRUE\nSubject_5        5    152     134     -18    TRUE\nSubject_6        6    134     143       9    TRUE\nSubject_7        7    114     135      21    TRUE\nSubject_8        8    121     139      18    TRUE\nSubject_9        9    131     120     -11   FALSE\nSubject_10      10    130     124      -6    TRUE\n\n\nCreate a list combining the placebo & non-placebo dataframes.\n\nex_list &lt;- list(treatment = b_df, placebo = b_p_df)\nex_list\n\n$treatment\n           patient pre_bp post_bp diff_bp hi_post\nSubject_1        1    130     114     -16   FALSE\nSubject_2        2    128      98     -30   FALSE\nSubject_3        3    116     113      -3   FALSE\nSubject_4        4    124      99     -25   FALSE\nSubject_5        5    133     107     -26   FALSE\nSubject_6        6    134     116     -18   FALSE\nSubject_7        7    118     113      -5   FALSE\nSubject_8        8    126     111     -15   FALSE\nSubject_9        9    114     119       5   FALSE\nSubject_10      10    127     117     -10   FALSE\nSubject_11      11    141     101     -40   FALSE\nSubject_12      12    138     119     -19   FALSE\nSubject_13      13    128     130       2    TRUE\nSubject_14      14    140     122     -18    TRUE\nSubject_15      15    137     106     -31   FALSE\nSubject_16      16    131     106     -25   FALSE\nSubject_17      17    120     124       4    TRUE\nSubject_18      18    128     102     -26   FALSE\nSubject_19      19    139     117     -22   FALSE\nSubject_20      20    135     113     -22   FALSE\n\n$placebo\n           patient pre_bp post_bp diff_bp hi_post\nSubject_1        1    138     105     -33   FALSE\nSubject_2        2    135     136       1    TRUE\nSubject_3        3    147     123     -24    TRUE\nSubject_4        4    117     130      13    TRUE\nSubject_5        5    152     134     -18    TRUE\nSubject_6        6    134     143       9    TRUE\nSubject_7        7    114     135      21    TRUE\nSubject_8        8    121     139      18    TRUE\nSubject_9        9    131     120     -11   FALSE\nSubject_10      10    130     124      -6    TRUE\n\n\nAccess the first element of ‘ex_list’ in 3 different ways\n\n#1) subset with []\nex_list[1]\n\n$treatment\n           patient pre_bp post_bp diff_bp hi_post\nSubject_1        1    130     114     -16   FALSE\nSubject_2        2    128      98     -30   FALSE\nSubject_3        3    116     113      -3   FALSE\nSubject_4        4    124      99     -25   FALSE\nSubject_5        5    133     107     -26   FALSE\nSubject_6        6    134     116     -18   FALSE\nSubject_7        7    118     113      -5   FALSE\nSubject_8        8    126     111     -15   FALSE\nSubject_9        9    114     119       5   FALSE\nSubject_10      10    127     117     -10   FALSE\nSubject_11      11    141     101     -40   FALSE\nSubject_12      12    138     119     -19   FALSE\nSubject_13      13    128     130       2    TRUE\nSubject_14      14    140     122     -18    TRUE\nSubject_15      15    137     106     -31   FALSE\nSubject_16      16    131     106     -25   FALSE\nSubject_17      17    120     124       4    TRUE\nSubject_18      18    128     102     -26   FALSE\nSubject_19      19    139     117     -22   FALSE\nSubject_20      20    135     113     -22   FALSE\n\n\n\n#2 subset contents of the first dataframe\nex_list[[1]]\n\n           patient pre_bp post_bp diff_bp hi_post\nSubject_1        1    130     114     -16   FALSE\nSubject_2        2    128      98     -30   FALSE\nSubject_3        3    116     113      -3   FALSE\nSubject_4        4    124      99     -25   FALSE\nSubject_5        5    133     107     -26   FALSE\nSubject_6        6    134     116     -18   FALSE\nSubject_7        7    118     113      -5   FALSE\nSubject_8        8    126     111     -15   FALSE\nSubject_9        9    114     119       5   FALSE\nSubject_10      10    127     117     -10   FALSE\nSubject_11      11    141     101     -40   FALSE\nSubject_12      12    138     119     -19   FALSE\nSubject_13      13    128     130       2    TRUE\nSubject_14      14    140     122     -18    TRUE\nSubject_15      15    137     106     -31   FALSE\nSubject_16      16    131     106     -25   FALSE\nSubject_17      17    120     124       4    TRUE\nSubject_18      18    128     102     -26   FALSE\nSubject_19      19    139     117     -22   FALSE\nSubject_20      20    135     113     -22   FALSE\n\n\n\n#3 Subset contents by identifying element name\nex_list$treatment\n\n           patient pre_bp post_bp diff_bp hi_post\nSubject_1        1    130     114     -16   FALSE\nSubject_2        2    128      98     -30   FALSE\nSubject_3        3    116     113      -3   FALSE\nSubject_4        4    124      99     -25   FALSE\nSubject_5        5    133     107     -26   FALSE\nSubject_6        6    134     116     -18   FALSE\nSubject_7        7    118     113      -5   FALSE\nSubject_8        8    126     111     -15   FALSE\nSubject_9        9    114     119       5   FALSE\nSubject_10      10    127     117     -10   FALSE\nSubject_11      11    141     101     -40   FALSE\nSubject_12      12    138     119     -19   FALSE\nSubject_13      13    128     130       2    TRUE\nSubject_14      14    140     122     -18    TRUE\nSubject_15      15    137     106     -31   FALSE\nSubject_16      16    131     106     -25   FALSE\nSubject_17      17    120     124       4    TRUE\nSubject_18      18    128     102     -26   FALSE\nSubject_19      19    139     117     -22   FALSE\nSubject_20      20    135     113     -22   FALSE\n\n\nAccess the ‘placebo’ dataframe’s ‘pre_bp’ column\n\nex_list[[2]][2]\n\n           pre_bp\nSubject_1     138\nSubject_2     135\nSubject_3     147\nSubject_4     117\nSubject_5     152\nSubject_6     134\nSubject_7     114\nSubject_8     121\nSubject_9     131\nSubject_10    130"
  },
  {
    "objectID": "ST558_HW2_Programming_BaseR.html#task-4---control-flow-practice",
    "href": "ST558_HW2_Programming_BaseR.html#task-4---control-flow-practice",
    "title": "Programming in BaseR",
    "section": "Task 4 - Control Flow Practice",
    "text": "Task 4 - Control Flow Practice\nStart by adding a ‘status’ column to each dataframe\n\nex_list[[1]]$status &lt;- character(20)\nex_list[[2]]$status &lt;- character(10)\n\nNext, populate ‘status’ column values for the ‘treatment’ dataframe.\n\nfor (i in seq_along(ex_list[[1]]$post_bp)) {\n  if (ex_list[[1]]$post_bp[i] &lt; 120) {\n    ex_list[[1]]$status[i] &lt;- 'optimal'\n  } else if (ex_list[[1]]$post_bp[i] &gt; 130) {\n    ex_list[[1]]$status[i] &lt;- 'high'\n  } else ex_list[[1]]$status[i] &lt;- 'borderline'\n}\nex_list[1]\n\n$treatment\n           patient pre_bp post_bp diff_bp hi_post     status\nSubject_1        1    130     114     -16   FALSE    optimal\nSubject_2        2    128      98     -30   FALSE    optimal\nSubject_3        3    116     113      -3   FALSE    optimal\nSubject_4        4    124      99     -25   FALSE    optimal\nSubject_5        5    133     107     -26   FALSE    optimal\nSubject_6        6    134     116     -18   FALSE    optimal\nSubject_7        7    118     113      -5   FALSE    optimal\nSubject_8        8    126     111     -15   FALSE    optimal\nSubject_9        9    114     119       5   FALSE    optimal\nSubject_10      10    127     117     -10   FALSE    optimal\nSubject_11      11    141     101     -40   FALSE    optimal\nSubject_12      12    138     119     -19   FALSE    optimal\nSubject_13      13    128     130       2    TRUE borderline\nSubject_14      14    140     122     -18    TRUE borderline\nSubject_15      15    137     106     -31   FALSE    optimal\nSubject_16      16    131     106     -25   FALSE    optimal\nSubject_17      17    120     124       4    TRUE borderline\nSubject_18      18    128     102     -26   FALSE    optimal\nSubject_19      19    139     117     -22   FALSE    optimal\nSubject_20      20    135     113     -22   FALSE    optimal\n\n\nFinally, populate ‘status’ column for the ‘placebo’ dataframe\n\nfor (i in seq_along(ex_list[[2]]$post_bp)) {\n  if (ex_list[[2]]$post_bp[i] &lt; 120) {\n    ex_list[[2]]$status[i] &lt;- 'optimal'\n  } else if (ex_list[[2]]$post_bp[i] &gt; 130) {\n    ex_list[[2]]$status[i] &lt;- 'high'\n  } else ex_list[[2]]$status[i] &lt;- 'borderline'\n}\nex_list[2]\n\n$placebo\n           patient pre_bp post_bp diff_bp hi_post     status\nSubject_1        1    138     105     -33   FALSE    optimal\nSubject_2        2    135     136       1    TRUE       high\nSubject_3        3    147     123     -24    TRUE borderline\nSubject_4        4    117     130      13    TRUE borderline\nSubject_5        5    152     134     -18    TRUE       high\nSubject_6        6    134     143       9    TRUE       high\nSubject_7        7    114     135      21    TRUE       high\nSubject_8        8    121     139      18    TRUE       high\nSubject_9        9    131     120     -11   FALSE borderline\nSubject_10      10    130     124      -6    TRUE borderline"
  },
  {
    "objectID": "ST558_HW2_Programming_BaseR.html#task-5---function-writing",
    "href": "ST558_HW2_Programming_BaseR.html#task-5---function-writing",
    "title": "Programming in BaseR",
    "section": "Task 5 - Function Writing",
    "text": "Task 5 - Function Writing\nDefine a function that finds statistical measures (i.e. mean, median, std) for a dataset (a list) with treatment & placebo data groups.\n\nreveal &lt;- function(experiment_list, stat = 'mean') {\n  if (!is.list(experiment_list)) {\n    stop(\"Data Entry is not a list\")\n  } else if (!is.data.frame(experiment_list[[1]]) | !is.data.frame(experiment_list[[2]])) {\n    stop(\"Entered list does not contain dataframes\")\n  } else if (!stat == 'mean' & !stat == 'var' & !stat == 'min' & \n             !stat == 'max' & !stat == 'sd') {\n    stop(\"Entered unavailable stat option, please limit to mean,\n    var, min, max, or sd\")\n  }\n  t_pre_bp &lt;- get(stat)(experiment_list[[1]]$pre_bp)\n  t_post_bp &lt;- get(stat)(experiment_list[[1]]$post_bp) \n  t_diff_bp &lt;- get(stat)(experiment_list[[1]]$diff_bp)\n  p_pre_bp &lt;- get(stat)(experiment_list[[2]]$pre_bp)\n  p_post_bp &lt;- get(stat)(experiment_list[[2]]$post_bp)\n  p_diff_bp &lt;- get(stat)(experiment_list[[2]]$diff_bp)\n  return_vec &lt;- \n    c(t_pre_bp, t_post_bp, t_diff_bp, p_pre_bp, p_post_bp, p_diff_bp)\n  return_nm &lt;-\n    c(paste(stat, \"_treatment_pre_bp\", sep = \"\"),\n      paste(stat, \"_treatment_post_bp\", sep = \"\"),\n      paste(stat, \"_treatment_diff_bp\", sep = \"\"),\n      paste(stat, \"_placebo_pre_bp\", sep = \"\"),\n      paste(stat, \"_placebo_post_bp\", sep = \"\"),\n      paste(stat, \"_placebo_diff_bp\", sep = \"\"))\n  names(return_vec) &lt;- return_nm\n  #  return_df &lt;-\n#    data.frame(return_nm ,return_vec)\n  return(return_vec)\n}\n\nNow to test the function in question, first w/o a ‘stat’ argument.\n\nreveal(ex_list)\n\n mean_treatment_pre_bp mean_treatment_post_bp mean_treatment_diff_bp \n                129.35                 112.35                 -17.00 \n   mean_placebo_pre_bp   mean_placebo_post_bp   mean_placebo_diff_bp \n                131.90                 128.90                  -3.00 \n\n\nNext, with a ‘stat’ argument of ‘var’, ‘sd’, ‘min’, and ‘max’\n\nreveal(ex_list, stat = 'var')\n\n var_treatment_pre_bp var_treatment_post_bp var_treatment_diff_bp \n             64.55526              74.76579             153.68421 \n   var_placebo_pre_bp   var_placebo_post_bp   var_placebo_diff_bp \n            149.87778             124.98889             341.33333 \n\n\n\nreveal(ex_list, stat = 'sd')\n\n sd_treatment_pre_bp sd_treatment_post_bp sd_treatment_diff_bp \n            8.034629             8.646721            12.396944 \n   sd_placebo_pre_bp   sd_placebo_post_bp   sd_placebo_diff_bp \n           12.242458            11.179843            18.475209 \n\n\n\nreveal(ex_list, stat = 'min')\n\n min_treatment_pre_bp min_treatment_post_bp min_treatment_diff_bp \n                  114                    98                   -40 \n   min_placebo_pre_bp   min_placebo_post_bp   min_placebo_diff_bp \n                  114                   105                   -33 \n\n\n\nreveal(ex_list, stat = 'max')\n\n max_treatment_pre_bp max_treatment_post_bp max_treatment_diff_bp \n                  141                   130                     5 \n   max_placebo_pre_bp   max_placebo_post_bp   max_placebo_diff_bp \n                  152                   143                    21"
  }
]